{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport useSWR from \"swr\";\nimport Link from \"next/link\";\nimport { generatePosts } from \"../../helpers/utils\"; // Only fetch the title and blurb.\n\nvar FirestoreBlogPostsURL = \"https://firestore.googleapis.com/v1/projects/\".concat(process.env.FIREBASE_PROJECT_ID, \"/databases/(default)/documents/posts?mask.fieldPaths=blurb&mask.fieldPaths=title\");\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  });\n};\n\nfunction Blog(props) {\n  var initialData = props.posts;\n\n  var _useSWR = useSWR(FirestoreBlogPostsURL, fetcher, {\n    initialData: initialData\n  }),\n      data = _useSWR.data; // initialData is already transformed, so only transform refetches\n\n\n  var posts = data.documents ? generatePosts(data) : data;\n  return __jsx(\"div\", null, data && posts.map(function (post, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: \"card\"\n    }, __jsx(Link, {\n      href: \"blog/[pid]\",\n      as: \"/blog/\".concat(post.pid)\n    }, __jsx(\"a\", null, __jsx(\"h3\", null, post.title, \" \\u2192\"), __jsx(\"p\", null, post.blurb))));\n  }));\n}\n\nexport var __N_SSP = true;\nexport default Blog;","map":null,"metadata":{},"sourceType":"module"}